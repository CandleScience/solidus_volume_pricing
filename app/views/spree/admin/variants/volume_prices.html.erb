<%= render 'spree/admin/shared/product_tabs', current: I18n.t('spree.volume_pricing') %>
<%= render 'spree/shared/error_messages', target: @variant %>

<fieldset>
  <legend><%= I18n.t('spree.volume_prices') %></legend>

  <%= form_for(@variant, url: admin_product_variant_path(@product, @variant), html: { method: :put }) do |f| %>
    <%= f.field_container :volume_price_model, class: ['form-group'] do %>
      <%= f.label :volume_price_model_id, I18n.t('spree.volume_price_model') %>
      <%= f.collection_select(:volume_price_model_ids, Spree::VolumePriceModel.all, :id, :name, { include_blank: I18n.t('spree.match_choices.none') }, { class: 'custom-select', disabled: (cannot? :edit, Spree::VolumePriceModel) }) %>
      <%= f.error_message_on :volume_price_model %>
    <% end %>

    <%= render 'spree/admin/volume_prices/table', f: f %>

    <%= render 'spree/admin/shared/edit_resource_links' %>
  <% end %>
</fieldset>
